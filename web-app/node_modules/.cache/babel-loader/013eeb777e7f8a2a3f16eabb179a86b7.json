{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(addFavouriteFunction),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(addProductToFavouriteFunction),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(deleteProductFromFavouriteFunction),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(loadFavourites),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchGetFavourites),\n    _marked6 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchAddFavourite),\n    _marked7 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchAddFavouriteProduct),\n    _marked8 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchDeleteFavouriteProduct),\n    _marked9 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(favouriteSaga);\n\nimport { delay } from 'redux-saga';\nimport { put, takeLatest } from 'redux-saga/effects';\nimport { SERWER_LOCAL } from \"../constants/AppConstants\";\n\nvar getUserFavourites = function getUserFavourites(userid) {\n  try {\n    console.log('getting favourite user');\n    var response = fetch(\"\".concat(SERWER_LOCAL, \"/api/favourite/favourites/\").concat(userid), {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.status === 'ok') {\n        console.log(data.data);\n        return data.data;\n      } else {\n        console.log('not good');\n        return false;\n      }\n    }).catch(function (error) {\n      return console.log(\"Error occurred: \".concat(error, \".\"));\n    });\n    return response;\n  } catch (e) {\n    console.log(\"Could not fetch data from \".concat(SERWER_LOCAL, \".\"));\n    var data = [{\n      favouriteid: 1,\n      userid: 1,\n      name: 'moja grupa ulubiona1'\n    }, {\n      favouriteid: 1,\n      userid: 1,\n      name: 'moj ulubione jogurty'\n    }];\n    return data;\n  }\n};\n\nvar getProductsOfFavourite =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(favouriteId) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"\".concat(SERWER_LOCAL, \"/api/product/products/favourite/\").concat(favouriteId), {\n              method: 'GET',\n              headers: {\n                'Accept': 'application/json'\n              }\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log(data);\n              return data.data;\n            }).catch(function (error) {\n              console.log(\"Error occurred: \".concat(error, \".\"));\n              return false;\n            });\n\n          case 2:\n            response = _context.sent;\n            console.log(response);\n            return _context.abrupt(\"return\", response);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function getProductsOfFavourite(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getUserFavouritesProducts =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(userid) {\n    var responseData, response, data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            console.log('getting favourite user');\n            _context2.next = 4;\n            return fetch(\"\".concat(SERWER_LOCAL, \"/api/favourite/favourites/\").concat(userid), {\n              method: 'GET',\n              headers: {\n                'Accept': 'application/json'\n              }\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              if (data.status === 'ok') {\n                console.log('favourites properly taken');\n                console.log(data.data);\n                responseData = data.data;\n                console.log(responseData);\n                return data.data;\n              } else {\n                console.log(\"Something went wrong with fetching favourites\");\n                return false;\n              }\n            }).catch(function (error) {\n              console.log(\"Error occurred: \".concat(error, \".\"));\n              return false;\n            });\n\n          case 4:\n            response = _context2.sent;\n            console.log('taken favourites from server');\n            _context2.next = 8;\n            return response;\n\n          case 8:\n            console.log(responseData);\n            _context2.next = 11;\n            return responseData.forEach(function (favourite) {\n              console.log(\"Favourite id: \".concat(favourite.favouriteId));\n              favourite.products = getProductsOfFavourite(favourite.favouriteId);\n              console.log(favourite.products);\n            });\n\n          case 11:\n            console.log(response);\n            return _context2.abrupt(\"return\", response);\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"Could not fetch data from \".concat(SERWER_LOCAL, \".\"));\n            data = [{\n              favouriteid: 1,\n              userid: 1,\n              name: 'moja grupa ulubiona1',\n              products: [{\n                productid: 3,\n                categoryid: 1,\n                shopid: 1,\n                name: 'Chleb żytni',\n                description: 'Chleb żytni z nutką ziarenek żytnihc. O smaku żytnim.',\n                price: 4.35,\n                currency: 'PLN',\n                link: 'http://cdn.przepisy100.pl/v/pl/7/7e770033f9e5bf87371dd35037e80e3a.jpg',\n                url: 'http://cdn.przepisy100.pl/v/pl/7/7e770033f9e5bf87371dd35037e80e3a.jpg'\n              }, {\n                productid: 5,\n                categoryid: 1,\n                shopid: 1,\n                name: 'Chleb',\n                description: 'Chleb taki bardzo smaczny, lekko pszenny lekko nie pszenny.',\n                price: 2.37,\n                currency: 'PLN',\n                link: 'https://cdn3.tmbi.com/toh/GoogleImagesPostCard/exps32480_MRR153791D09_18_6b.jpg',\n                url: 'https://cdn3.tmbi.com/toh/GoogleImagesPostCard/exps32480_MRR153791D09_18_6b.jpg'\n              }]\n            }, {\n              favouriteid: 1,\n              userid: 1,\n              name: 'moj ulubione jogurty',\n              products: [{\n                productid: 10,\n                categoryid: 2,\n                shopid: 'Biedronka',\n                name: 'Jogurt malinowy Jogobella, 500ml',\n                description: 'Bardzo suchy chleb dla konia. Idealny dla konia',\n                price: 2.69,\n                currency: 'PLN',\n                link: 'http://konie.t8.pl/media/images/suchy_chleb.jpg',\n                url: 'http://promyczek-lowicz.pl/userdata/gfx/a55af9ed63e5eba977a8f64550754cc0.jpg'\n              }, {\n                productid: 7,\n                categoryid: 1,\n                shopid: 'Biedronka',\n                name: 'Jogurt truskawkowy Jogobella, 500ml',\n                description: 'Chleb żytni z nutką ziarenek żytnihc. O smaku żytnim.',\n                price: 2.69,\n                currency: 'PLN',\n                link: 'http://cdn.przepisy100.pl/v/pl/7/7e770033f9e5bf87371dd35037e80e3a.jpg',\n                url: 'https://img.e-piotripawel.pl/4014500021560.jpg'\n              }]\n            }];\n            return _context2.abrupt(\"return\", data);\n\n          case 20:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[0, 15]]);\n  }));\n\n  return function getUserFavouritesProducts(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar addFavouriteProduct = function addFavouriteProduct(favouriteid, productid) {\n  try {\n    console.log('adding favourite product');\n    var response = fetch(\"\".concat(SERWER_LOCAL, \"/api/favourite/add2\"), {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: {\n        id: 0,\n        favouriteId: favouriteid,\n        productId: productid\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.status === 'ok') {\n        console.log(data.data);\n        return data.data;\n      } else {\n        console.log('not good');\n        return false;\n      }\n    }).catch(function (error) {\n      return console.log(\"Error occurred: \".concat(error, \".\"));\n    });\n    return response;\n  } catch (e) {\n    console.log(\"Could not fetch data from \".concat(SERWER_LOCAL, \".\"));\n    return true;\n  }\n};\n\nvar addFavourite = function addFavourite(favouriteid, userid, name) {\n  try {\n    console.log('getting filtered products');\n    var response = fetch(\"\".concat(SERWER_LOCAL, \"/api/favourite/add\"), {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: {\n        favouriteId: favouriteid,\n        userId: userid,\n        name: name\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.status === 'ok') {\n        console.log(data.data);\n        return data.data;\n      } else {\n        console.log('not good');\n        return false;\n      }\n    }).catch(function (error) {\n      return console.log(\"Error occurred: \".concat(error, \".\"));\n    });\n    return response;\n  } catch (e) {\n    console.log(\"Could not fetch data from \".concat(SERWER_LOCAL, \".\"));\n    return true;\n  }\n};\n\nvar deleteProductFromFavourite = function deleteProductFromFavourite(favourite, product) {\n  try {\n    console.log('getting filtered products');\n    var response = fetch(\"\".concat(SERWER_LOCAL, \"/api/favourite/delete/\").concat(favourite, \"/\").concat(product), {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.status === 'ok') {\n        console.log(data.data);\n        return data.data;\n      } else {\n        console.log('not good');\n        return false;\n      }\n    }).catch(function (error) {\n      return console.log(\"Error occurred: \".concat(error, \".\"));\n    });\n    return response;\n  } catch (e) {\n    console.log(\"Could not fetch data from \".concat(SERWER_LOCAL, \".\"));\n    return true;\n  }\n};\n\nfunction addFavouriteFunction(action) {\n  return _regeneratorRuntime.wrap(function addFavouriteFunction$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return addFavourite(action.favourite);\n\n        case 3:\n          _context3.next = 5;\n          return put({\n            type: 'GET_FAVOURITES'\n          });\n\n        case 5:\n          _context3.next = 11;\n          break;\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 11;\n          return put({\n            type: 'ADD_FAVOURITE_FAILURE',\n            payload: _context3.t0\n          });\n\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked, this, [[0, 7]]);\n}\n\nfunction addProductToFavouriteFunction(action) {\n  return _regeneratorRuntime.wrap(function addProductToFavouriteFunction$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return addFavouriteProduct(action.favouriteid, action.productid);\n\n        case 3:\n          _context4.next = 5;\n          return put({\n            type: 'GET_FAVOURITES'\n          });\n\n        case 5:\n          _context4.next = 11;\n          break;\n\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          _context4.next = 11;\n          return put({\n            type: 'ADD_TO_FAVOURITE_FAILURE',\n            payload: _context4.t0\n          });\n\n        case 11:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked2, this, [[0, 7]]);\n}\n\nfunction deleteProductFromFavouriteFunction(action) {\n  return _regeneratorRuntime.wrap(function deleteProductFromFavouriteFunction$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return deleteProductFromFavourite(action.favouriteid, action.productid);\n\n        case 3:\n          _context5.next = 5;\n          return put({\n            type: 'GET_FAVOURITES'\n          });\n\n        case 5:\n          _context5.next = 11;\n          break;\n\n        case 7:\n          _context5.prev = 7;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 11;\n          return put({\n            type: 'DELETE_FROM_FAVOURITE_FAILURE',\n            payload: _context5.t0\n          });\n\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked3, this, [[0, 7]]);\n}\n\nfunction loadFavourites(action) {\n  var favouriteList;\n  return _regeneratorRuntime.wrap(function loadFavourites$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return delay(1000);\n\n        case 3:\n          _context6.next = 5;\n          return getUserFavouritesProducts(action.userid);\n\n        case 5:\n          favouriteList = _context6.sent;\n          _context6.next = 8;\n          return put({\n            type: 'GET_FAVOURITES_SUCCESS',\n            payload: favouriteList\n          });\n\n        case 8:\n          _context6.next = 14;\n          break;\n\n        case 10:\n          _context6.prev = 10;\n          _context6.t0 = _context6[\"catch\"](0);\n          _context6.next = 14;\n          return put({\n            type: 'GET_FAVOURITES_FAILURE',\n            payload: _context6.t0\n          });\n\n        case 14:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked4, this, [[0, 10]]);\n}\n\nfunction watchGetFavourites() {\n  return _regeneratorRuntime.wrap(function watchGetFavourites$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return takeLatest('GET_FAVOURITES', loadFavourites);\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked5, this);\n}\n\nfunction watchAddFavourite() {\n  return _regeneratorRuntime.wrap(function watchAddFavourite$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest('ADD_FAVOURITE', addFavouriteFunction);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked6, this);\n}\n\nfunction watchAddFavouriteProduct() {\n  return _regeneratorRuntime.wrap(function watchAddFavouriteProduct$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return takeLatest('ADD_FAVOURITE_PRODUCT', addProductToFavouriteFunction);\n\n        case 2:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked7, this);\n}\n\nfunction watchDeleteFavouriteProduct() {\n  return _regeneratorRuntime.wrap(function watchDeleteFavouriteProduct$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeLatest('DELETE_FAVOURITE_PRODUCT', deleteProductFromFavouriteFunction);\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked8, this);\n}\n\nexport default function favouriteSaga() {\n  return _regeneratorRuntime.wrap(function favouriteSaga$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return [watchGetFavourites(), watchAddFavourite(), watchAddFavouriteProduct(), watchDeleteFavouriteProduct()];\n\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked9, this);\n}","map":{"version":3,"sources":["C:\\Users\\baszak\\pwr\\inz\\repo\\inzynierka\\web-app\\src\\sagas\\favouriteSaga.js"],"names":["addFavouriteFunction","addProductToFavouriteFunction","deleteProductFromFavouriteFunction","loadFavourites","watchGetFavourites","watchAddFavourite","watchAddFavouriteProduct","watchDeleteFavouriteProduct","favouriteSaga","delay","put","takeLatest","SERWER_LOCAL","getUserFavourites","userid","console","log","response","fetch","method","headers","then","json","data","status","catch","error","e","favouriteid","name","getProductsOfFavourite","favouriteId","getUserFavouritesProducts","responseData","forEach","favourite","products","productid","categoryid","shopid","description","price","currency","link","url","addFavouriteProduct","body","id","productId","addFavourite","userId","deleteProductFromFavourite","product","action","type","payload","favouriteList"],"mappings":"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","sourcesContent":["import {\r\n    delay\r\n} from 'redux-saga';\r\n\r\nimport {\r\n    put,\r\n    takeLatest\r\n} from 'redux-saga/effects';\r\nimport {SERWER_LOCAL} from \"../constants/AppConstants\";\r\n\r\nconst getUserFavourites = (userid) => {\r\n    try {\r\n        console.log('getting favourite user');\r\n        const response = fetch(`${SERWER_LOCAL}/api/favourite/favourites/${userid}`,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json())\r\n            .then(data => {\r\n                if(data.status === 'ok') {\r\n                    console.log(data.data);\r\n                    return data.data;\r\n                } else {\r\n                    console.log('not good');\r\n                    return false;\r\n                }\r\n            })\r\n            .catch(error => console.log(`Error occurred: ${error}.`));\r\n        return response;\r\n    } catch(e) {\r\n        console.log(`Could not fetch data from ${SERWER_LOCAL}.`);\r\n        const data = [\r\n            {\r\n                favouriteid: 1,\r\n                userid: 1,\r\n                name: 'moja grupa ulubiona1'\r\n            },\r\n            {\r\n                favouriteid: 1,\r\n                userid: 1,\r\n                name: 'moj ulubione jogurty'\r\n            }\r\n        ];\r\n        return data;\r\n    }\r\n};\r\n\r\nconst getProductsOfFavourite = async(favouriteId) => {\r\n    const response = await fetch(`${SERWER_LOCAL}/api/product/products/favourite/${favouriteId}`,{\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json'\r\n        }\r\n    }).then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            return data.data;\r\n        })\r\n        .catch(error => {\r\n            console.log(`Error occurred: ${error}.`);\r\n            return false;\r\n        });\r\n    console.log(response);\r\n    return response;\r\n};\r\n\r\nconst getUserFavouritesProducts = async(userid) => {\r\n    try {\r\n        console.log('getting favourite user');\r\n        let responseData;\r\n        const response = await fetch(`${SERWER_LOCAL}/api/favourite/favourites/${userid}`,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json'\r\n            }\r\n        }).then(response => response.json())\r\n            .then(data => {\r\n                if(data.status === 'ok') {\r\n                    console.log('favourites properly taken');\r\n                    console.log(data.data);\r\n                    responseData = data.data;\r\n                    console.log(responseData);\r\n                    return data.data;\r\n                } else {\r\n                    console.log(`Something went wrong with fetching favourites`);\r\n                    return false;\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(`Error occurred: ${error}.`);\r\n                return false;\r\n            });\r\n        console.log('taken favourites from server');\r\n        await response;\r\n        console.log(responseData);\r\n\r\n        await responseData.forEach(favourite => {\r\n            console.log(`Favourite id: ${favourite.favouriteId}`);\r\n            favourite.products = getProductsOfFavourite(favourite.favouriteId);\r\n            console.log(favourite.products);\r\n        });\r\n\r\n        console.log(response);\r\n        return response;\r\n    } catch(e) {\r\n        console.log(`Could not fetch data from ${SERWER_LOCAL}.`);\r\n        const data = [\r\n            {\r\n                favouriteid: 1,\r\n                userid: 1,\r\n                name: 'moja grupa ulubiona1',\r\n                products: [\r\n                    {\r\n                        productid: 3,\r\n                        categoryid: 1,\r\n                        shopid: 1,\r\n                        name: 'Chleb żytni',\r\n                        description: 'Chleb żytni z nutką ziarenek żytnihc. O smaku żytnim.',\r\n                        price: 4.35,\r\n                        currency: 'PLN',\r\n                        link: 'http://cdn.przepisy100.pl/v/pl/7/7e770033f9e5bf87371dd35037e80e3a.jpg',\r\n                        url: 'http://cdn.przepisy100.pl/v/pl/7/7e770033f9e5bf87371dd35037e80e3a.jpg'\r\n                    },\r\n                    {\r\n                        productid: 5,\r\n                        categoryid: 1,\r\n                        shopid: 1,\r\n                        name: 'Chleb',\r\n                        description: 'Chleb taki bardzo smaczny, lekko pszenny lekko nie pszenny.',\r\n                        price: 2.37,\r\n                        currency: 'PLN',\r\n                        link: 'https://cdn3.tmbi.com/toh/GoogleImagesPostCard/exps32480_MRR153791D09_18_6b.jpg',\r\n                        url: 'https://cdn3.tmbi.com/toh/GoogleImagesPostCard/exps32480_MRR153791D09_18_6b.jpg'\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                favouriteid: 1,\r\n                userid: 1,\r\n                name: 'moj ulubione jogurty',\r\n                products: [\r\n                    {\r\n                        productid: 10,\r\n                        categoryid: 2,\r\n                        shopid: 'Biedronka',\r\n                        name: 'Jogurt malinowy Jogobella, 500ml',\r\n                        description: 'Bardzo suchy chleb dla konia. Idealny dla konia',\r\n                        price: 2.69,\r\n                        currency: 'PLN',\r\n                        link: 'http://konie.t8.pl/media/images/suchy_chleb.jpg',\r\n                        url: 'http://promyczek-lowicz.pl/userdata/gfx/a55af9ed63e5eba977a8f64550754cc0.jpg'\r\n                    },\r\n                    {\r\n                        productid: 7,\r\n                        categoryid: 1,\r\n                        shopid: 'Biedronka',\r\n                        name: 'Jogurt truskawkowy Jogobella, 500ml',\r\n                        description: 'Chleb żytni z nutką ziarenek żytnihc. O smaku żytnim.',\r\n                        price: 2.69,\r\n                        currency: 'PLN',\r\n                        link: 'http://cdn.przepisy100.pl/v/pl/7/7e770033f9e5bf87371dd35037e80e3a.jpg',\r\n                        url: 'https://img.e-piotripawel.pl/4014500021560.jpg'\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n        return data;\r\n    }\r\n};\r\n\r\nconst addFavouriteProduct = (favouriteid, productid) => {\r\n    try {\r\n        console.log('adding favourite product');\r\n        const response = fetch(`${SERWER_LOCAL}/api/favourite/add2`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: {\r\n                id: 0,\r\n                favouriteId: favouriteid,\r\n                productId: productid\r\n            }\r\n        }).then(response => response.json())\r\n            .then(data => {\r\n                if(data.status === 'ok') {\r\n                    console.log(data.data);\r\n                    return data.data;\r\n                } else {\r\n                    console.log('not good');\r\n                    return false;\r\n                }\r\n            })\r\n            .catch(error => console.log(`Error occurred: ${error}.`));\r\n        return response;\r\n    } catch(e) {\r\n        console.log(`Could not fetch data from ${SERWER_LOCAL}.`);\r\n        return true;\r\n    }\r\n};\r\n\r\nconst addFavourite = (favouriteid, userid, name) => {\r\n    try {\r\n        console.log('getting filtered products');\r\n        const response = fetch(`${SERWER_LOCAL}/api/favourite/add`,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: {\r\n                favouriteId: favouriteid,\r\n                userId: userid,\r\n                name: name\r\n            }\r\n        }).then(response => response.json())\r\n            .then(data => {\r\n                if(data.status === 'ok') {\r\n                    console.log(data.data);\r\n                    return data.data;\r\n                } else {\r\n                    console.log('not good');\r\n                    return false;\r\n                }\r\n            })\r\n            .catch(error => console.log(`Error occurred: ${error}.`));\r\n        return response;\r\n    } catch(e) {\r\n        console.log(`Could not fetch data from ${SERWER_LOCAL}.`);\r\n        return true;\r\n    }\r\n};\r\n\r\nconst deleteProductFromFavourite = (favourite, product) => {\r\n    try {\r\n        console.log('getting filtered products');\r\n        const response = fetch(`${SERWER_LOCAL}/api/favourite/delete/${favourite}/${product}`,{\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(response => response.json())\r\n            .then(data => {\r\n                if(data.status === 'ok') {\r\n                    console.log(data.data);\r\n                    return data.data;\r\n                } else {\r\n                    console.log('not good');\r\n                    return false;\r\n                }\r\n            })\r\n            .catch(error => console.log(`Error occurred: ${error}.`));\r\n        return response;\r\n    } catch(e) {\r\n        console.log(`Could not fetch data from ${SERWER_LOCAL}.`);\r\n        return true;\r\n    }\r\n};\r\n\r\nfunction* addFavouriteFunction (action) {\r\n    try {\r\n        yield addFavourite(action.favourite);\r\n        yield put({ type: 'GET_FAVOURITES'});\r\n    } catch (e) {\r\n        yield put({ type: 'ADD_FAVOURITE_FAILURE', payload: e});\r\n    }\r\n}\r\n\r\nfunction* addProductToFavouriteFunction (action) {\r\n    try {\r\n        yield addFavouriteProduct(action.favouriteid, action.productid);\r\n        yield put({ type: 'GET_FAVOURITES'});\r\n    } catch (e) {\r\n        yield put({ type: 'ADD_TO_FAVOURITE_FAILURE', payload: e});\r\n    }\r\n}\r\n\r\nfunction* deleteProductFromFavouriteFunction (action) {\r\n    try {\r\n        yield deleteProductFromFavourite(action.favouriteid, action.productid);\r\n        yield put({ type: 'GET_FAVOURITES'});\r\n    } catch (e) {\r\n        yield put({ type: 'DELETE_FROM_FAVOURITE_FAILURE', payload: e});\r\n    }\r\n}\r\n\r\nfunction* loadFavourites (action) {\r\n    try {\r\n        yield delay(1000);\r\n        const favouriteList = yield getUserFavouritesProducts(action.userid);\r\n        yield put({ type: 'GET_FAVOURITES_SUCCESS', payload: favouriteList});\r\n    } catch (e) {\r\n        yield put({type: 'GET_FAVOURITES_FAILURE', payload: e});\r\n    }\r\n}\r\n\r\nfunction* watchGetFavourites() {\r\n    yield takeLatest('GET_FAVOURITES', loadFavourites);\r\n}\r\n\r\nfunction* watchAddFavourite() {\r\n    yield takeLatest('ADD_FAVOURITE', addFavouriteFunction);\r\n}\r\n\r\nfunction* watchAddFavouriteProduct() {\r\n    yield takeLatest('ADD_FAVOURITE_PRODUCT', addProductToFavouriteFunction);\r\n}\r\n\r\nfunction* watchDeleteFavouriteProduct() {\r\n    yield takeLatest('DELETE_FAVOURITE_PRODUCT', deleteProductFromFavouriteFunction);\r\n}\r\n\r\nexport default function* favouriteSaga() {\r\n    yield [\r\n        watchGetFavourites(),\r\n        watchAddFavourite(),\r\n        watchAddFavouriteProduct(),\r\n        watchDeleteFavouriteProduct()\r\n    ]\r\n}\r\n"]},"metadata":{},"sourceType":"module"}