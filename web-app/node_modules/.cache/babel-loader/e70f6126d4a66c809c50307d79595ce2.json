{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\baszak\\\\pwr\\\\inz\\\\repo\\\\inzynierka\\\\web-app\\\\src\\\\components\\\\UserContainer.js\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header/Header';\nimport history from '../history';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { getUser as _getUser, modifyUser as _modifyUser } from '../reducers/action-creators';\n\nfunction TabContainer(props) {\n  return React.createElement(Typography, {\n    component: \"div\",\n    style: {\n      padding: 8 * 3\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, props.children);\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nvar UserContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserContainer, _React$Component);\n\n  function UserContainer(props) {\n    var _this;\n\n    _classCallCheck(this, UserContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserContainer).call(this, props));\n\n    _this.handleChange = function (event, value) {\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.handleClickModify = function () {\n      _this.setState({\n        modifyButton: false\n      });\n    };\n\n    _this.handleClickSave = function () {\n      var user = _this.state.newUser;\n      user.password = _this.props.userData.password;\n      user.userId = _this.props.userData.userId;\n      if (user.login == '') user.login = _this.props.userData.login;\n      if (user.name == '') user.login = _this.props.userData.name;\n      if (user.surname == '') user.login = _this.props.userData.surname;\n      if (user.mail == '') user.login = _this.props.userData.mail;\n      console.log(user);\n\n      _this.props.modifyUser(user);\n    };\n\n    _this.handleClickCanel = function () {\n      _this.setState({\n        modifyButton: true\n      });\n    };\n\n    _this.newUserChange = function (evt) {\n      var target = evt.target;\n      var name = target.name;\n      var value = target.value;\n\n      var newUser = _objectSpread({}, _this.state.newUser);\n\n      newUser[name] = value;\n\n      _this.setState({\n        newUser: newUser\n      });\n    };\n\n    _this.handlePasswordChange = function (evt) {\n      var value = evt.target.value;\n      var name = evt.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleNewPass = function () {\n      var user = _this.props.userData;\n      user.password = _this.state.newPass;\n\n      _this.props.modifyUser(user);\n    };\n\n    _this.state = {\n      value: 0,\n      saveButton: false,\n      modifyButton: true,\n      newUser: {\n        name: _this.props.userData.name,\n        surname: _this.props.userData.surname,\n        mail: _this.props.userData.mail,\n        login: _this.props.userData.login\n      },\n      oldPass: '',\n      newPass: ''\n    };\n\n    if (!_this.props.loggedIn) {\n      history.push('/');\n    }\n\n    return _this;\n  }\n\n  _createClass(UserContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getUser();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var value = this.state.value;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Header, {\n        loggedIn: this.props.loggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(AppBar, {\n        style: {\n          position: 'static',\n          maxWidth: '800px',\n          margin: '0 auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        value: value,\n        onChange: this.handleChange,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        label: \"Dane konta\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Zmiana has\\u0142a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }))), value === 0 && React.createElement(\"div\", {\n        style: {\n          alignContent: 'center',\n          alignItems: 'center',\n          maxWidth: '800px',\n          margin: '0 auto',\n          verticalAlign: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          margin: '0 auto'\n        },\n        noValidate: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        disabled: this.state.modifyButton,\n        defaultValue: this.props.userData.name,\n        id: \"name-text\",\n        name: \"name\",\n        onBlur: this.newUserChange,\n        label: \"Imi\\u0119\",\n        style: {\n          marginTop: '19px',\n          width: '400px',\n          margin: '0 auto',\n          padding: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        disabled: this.state.modifyButton,\n        defaultValue: this.props.userData.surname,\n        id: \"surname-text\",\n        name: \"surname\",\n        onBlur: this.newUserChange,\n        label: \"Nazwisko\",\n        style: {\n          marginTop: '19px',\n          width: '400px',\n          margin: '0 auto',\n          padding: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        disabled: this.state.modifyButton,\n        defaultValue: this.props.userData.login,\n        id: \"login-text\",\n        name: \"login\",\n        onBlur: this.newUserChange,\n        label: \"Login\",\n        style: {\n          marginTop: '19px',\n          width: '400px',\n          margin: '0 auto',\n          padding: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        disabled: this.state.modifyButton,\n        defaultValue: this.props.userData.mail,\n        id: \"email-text\",\n        name: \"mail\",\n        onBlur: this.newUserChange,\n        label: \"Mail\",\n        style: {\n          marginTop: '19px',\n          width: '400px',\n          margin: '0 auto',\n          padding: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }))), value === 0 && React.createElement(\"div\", {\n        style: {\n          alignContent: 'center',\n          alignItems: 'center',\n          maxWidth: '800px',\n          margin: '0 auto',\n          verticalAlign: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.state.modifyButton && React.createElement(Button, {\n        onClick: this.handleClickModify,\n        style: {\n          margin: '0 auto',\n          border: '5px',\n          borderColor: '#A59A9A',\n          backgroundColor: '#3f51b5'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Modyfikuj\")), !this.state.modifyButton && React.createElement(Button, {\n        onClick: this.handleClickSave,\n        style: {\n          padding: '10px',\n          margin: '10px',\n          border: '5px',\n          borderColor: '#A59A9A',\n          backgroundColor: '#3f51b5'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Zapisz\")), !this.state.modifyButton && React.createElement(Button, {\n        onClick: this.handleClickCanel,\n        style: {\n          padding: '10px',\n          margin: '10px',\n          border: '5px',\n          borderColor: '#A59A9A',\n          backgroundColor: '#3f51b5'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Anuluj\"))), value === 1 && React.createElement(\"div\", {\n        style: {\n          alignContent: 'center',\n          alignItems: 'center',\n          maxWidth: '800px',\n          margin: '0 auto',\n          verticalAlign: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          margin: '0 auto'\n        },\n        noValidate: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"name-text\",\n        name: \"oldPass\",\n        onBlur: this.handlePasswordChange,\n        label: \"Stare haslo\",\n        style: {\n          marginTop: '19px',\n          width: '400px',\n          margin: '0 auto',\n          padding: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"surname-text\",\n        name: \"newPass\",\n        onBlur: this.handlePasswordChange,\n        label: \"Nowe haslo\",\n        style: {\n          marginTop: '19px',\n          width: '400px',\n          margin: '0 auto',\n          padding: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: this.handleNewPass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Zmien haslo\")));\n    }\n  }]);\n\n  return UserContainer;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    userData: state.getIn(['reducerUser', 'user']),\n    loggedIn: state.getIn(['reducerUser', 'isLogged'])\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getUser: function getUser() {\n      return dispatch(_getUser());\n    },\n    modifyUser: function modifyUser(user) {\n      return dispatch(_modifyUser(user));\n    }\n  };\n}\n\nexport var User = connect(mapStateToProps, mapDispatchToProps)(UserContainer);","map":{"version":3,"sources":["C:\\Users\\baszak\\pwr\\inz\\repo\\inzynierka\\web-app\\src\\components\\UserContainer.js"],"names":["PropTypes","React","connect","Header","history","AppBar","Tabs","Tab","Typography","TextField","Button","getUser","modifyUser","TabContainer","props","padding","children","propTypes","node","isRequired","UserContainer","handleChange","event","value","setState","handleClickModify","modifyButton","handleClickSave","user","state","newUser","password","userData","userId","login","name","surname","mail","console","log","handleClickCanel","newUserChange","evt","target","handlePasswordChange","handleNewPass","newPass","saveButton","oldPass","loggedIn","push","classes","position","maxWidth","margin","alignContent","alignItems","verticalAlign","display","flexWrap","marginTop","width","border","borderColor","backgroundColor","color","Component","mapStateToProps","getIn","mapDispatchToProps","dispatch","User"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header/Header';\r\nimport history from '../history';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { getUser, modifyUser } from '../reducers/action-creators';\r\n\r\nfunction TabContainer(props) {\r\n    return (\r\n        <Typography component=\"div\" style={{ padding: 8 * 3 }}>\r\n            {props.children}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nclass UserContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: 0,\r\n            saveButton: false,\r\n            modifyButton: true,\r\n            newUser: {\r\n                name: this.props.userData.name,\r\n                surname: this.props.userData.surname,\r\n                mail: this.props.userData.mail,\r\n                login: this.props.userData.login,\r\n            },\r\n            oldPass: '',\r\n            newPass: ''\r\n        };\r\n        if(!this.props.loggedIn) {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getUser();\r\n    }\r\n\r\n    handleChange = (event, value) => {\r\n        this.setState({ value });\r\n    };\r\n\r\n    handleClickModify = () => {\r\n        this.setState({ modifyButton: false});\r\n    };\r\n\r\n    handleClickSave = () => {\r\n        const user = this.state.newUser;\r\n        user.password = this.props.userData.password;\r\n        user.userId = this.props.userData.userId;\r\n        if(user.login == '') user.login = this.props.userData.login;\r\n        if(user.name == '') user.login = this.props.userData.name;\r\n        if(user.surname == '') user.login = this.props.userData.surname;\r\n        if(user.mail == '') user.login = this.props.userData.mail;\r\n        console.log(user);\r\n        this.props.modifyUser(user);\r\n    };\r\n\r\n    handleClickCanel = () => {\r\n        this.setState({ modifyButton: true });\r\n    };\r\n\r\n    newUserChange = (evt) => {\r\n        const target = evt.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n\r\n        const newUser = {...this.state.newUser};\r\n        newUser[name] = value;\r\n        this.setState({newUser});\r\n    };\r\n\r\n    handlePasswordChange = (evt) => {\r\n        const value = evt.target.value;\r\n        const name = evt.target.name;\r\n        this.setState({[name]: value});\r\n    };\r\n\r\n    handleNewPass = () => {\r\n        const user = this.props.userData;\r\n        user.password = this.state.newPass;\r\n        this.props.modifyUser(user);\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { value } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Header loggedIn={this.props.loggedIn} />\r\n                <AppBar style={{\r\n                    position: 'static',\r\n                    maxWidth: '800px',\r\n                    margin: '0 auto',\r\n                }}>\r\n                    <Tabs value={value} onChange={this.handleChange}\r\n                          fullWidth\r\n                    >\r\n                        <Tab label=\"Dane konta\" />\r\n                        <Tab label=\"Zmiana hasła\" />\r\n                    </Tabs>\r\n                </AppBar>\r\n                {value === 0 &&\r\n                    <div style={{\r\n                        alignContent: 'center',\r\n                        alignItems: 'center',\r\n                        maxWidth: '800px',\r\n                        margin: '0 auto',\r\n                        verticalAlign: 100\r\n                    }}>\r\n                <form style={{\r\n                    display: 'flex',\r\n                    flexWrap: 'wrap',\r\n                    margin: '0 auto'\r\n                }}\r\n                      noValidate\r\n                      autoComplete=\"off\">\r\n                    <TextField\r\n                        disabled={this.state.modifyButton}\r\n                        defaultValue={this.props.userData.name}\r\n                        id=\"name-text\"\r\n                        name={\"name\"}\r\n                        onBlur={this.newUserChange}\r\n                        label=\"Imię\"\r\n                        style={{\r\n                            marginTop: '19px',\r\n                            width: '400px',\r\n                            margin: '0 auto',\r\n                            padding: '10px'\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        disabled={this.state.modifyButton}\r\n                        defaultValue={this.props.userData.surname}\r\n                        id=\"surname-text\"\r\n                        name={\"surname\"}\r\n                        onBlur={this.newUserChange}\r\n                        label=\"Nazwisko\"\r\n                        style={{\r\n                            marginTop: '19px',\r\n                            width: '400px',\r\n                            margin: '0 auto',\r\n                            padding: '10px'\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        disabled={this.state.modifyButton}\r\n                        defaultValue={this.props.userData.login}\r\n                        id=\"login-text\"\r\n                        name={\"login\"}\r\n                        onBlur={this.newUserChange}\r\n                        label=\"Login\"\r\n                        style={{\r\n                            marginTop: '19px',\r\n                            width: '400px',\r\n                            margin: '0 auto',\r\n                            padding: '10px'\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        disabled={this.state.modifyButton}\r\n                        defaultValue={this.props.userData.mail}\r\n                        id=\"email-text\"\r\n                        name={\"mail\"}\r\n                        onBlur={this.newUserChange}\r\n                        label=\"Mail\"\r\n                        style={{\r\n                            marginTop: '19px',\r\n                            width: '400px',\r\n                            margin: '0 auto',\r\n                            padding: '10px'\r\n                        }}\r\n                    />\r\n                </form>\r\n                    </div>\r\n                }\r\n                {value === 0 &&\r\n                    <div style={{\r\n                        alignContent: 'center',\r\n                        alignItems: 'center',\r\n                        maxWidth: '800px',\r\n                        margin: '0 auto',\r\n                        verticalAlign: 100\r\n                    }}>\r\n\r\n                        {this.state.modifyButton &&\r\n                            <Button onClick={this.handleClickModify} style={{\r\n                                margin: '0 auto',\r\n                                border: '5px',\r\n                                borderColor: '#A59A9A',\r\n                                backgroundColor: '#3f51b5'\r\n                            }}>\r\n                                <h4 style={{color: 'white'}}>Modyfikuj</h4>\r\n                            </Button>\r\n                        }\r\n                        {!this.state.modifyButton &&\r\n                            <Button onClick={this.handleClickSave} style={{\r\n                                padding: '10px',\r\n                                margin: '10px',\r\n                                border: '5px',\r\n                                borderColor: '#A59A9A',\r\n                                backgroundColor: '#3f51b5'\r\n                            }}>\r\n                                <h4 style={{color: 'white'}}>Zapisz</h4>\r\n                            </Button>\r\n                        }\r\n                        {!this.state.modifyButton &&\r\n                            <Button onClick={this.handleClickCanel} style={{\r\n                                padding: '10px',\r\n                                margin: '10px',\r\n                                border: '5px',\r\n                                borderColor: '#A59A9A',\r\n                                backgroundColor: '#3f51b5'\r\n                            }}>\r\n                                <h4 style={{color: 'white'}}>Anuluj</h4>\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                }\r\n                {value === 1 &&\r\n                <div style={{\r\n                    alignContent: 'center',\r\n                    alignItems: 'center',\r\n                    maxWidth: '800px',\r\n                    margin: '0 auto',\r\n                    verticalAlign: 100\r\n                }}>\r\n                    <form style={{\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        margin: '0 auto'\r\n                    }}\r\n                          noValidate\r\n                          autoComplete=\"off\">\r\n                        <TextField\r\n                            id=\"name-text\"\r\n                            name=\"oldPass\"\r\n                            onBlur={this.handlePasswordChange}\r\n                            label=\"Stare haslo\"\r\n                            style={{\r\n                                marginTop: '19px',\r\n                                width: '400px',\r\n                                margin: '0 auto',\r\n                                padding: '10px'\r\n                            }}\r\n                        />\r\n                        <TextField\r\n                            id=\"surname-text\"\r\n                            name=\"newPass\"\r\n                            onBlur={this.handlePasswordChange}\r\n                            label=\"Nowe haslo\"\r\n                            style={{\r\n                                marginTop: '19px',\r\n                                width: '400px',\r\n                                margin: '0 auto',\r\n                                padding: '10px'\r\n                            }}\r\n                        />\r\n                    </form>\r\n                    <Button onClick={this.handleNewPass}>\r\n                        Zmien haslo\r\n                    </Button>\r\n                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        userData: state.getIn(['reducerUser','user']),\r\n        loggedIn: state.getIn(['reducerUser', 'isLogged'])\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        getUser: () => dispatch(getUser()),\r\n        modifyUser: (user) => dispatch(modifyUser(user))\r\n    }\r\n}\r\n\r\nexport const User = connect(mapStateToProps, mapDispatchToProps)(UserContainer);\r\n"]},"metadata":{},"sourceType":"module"}